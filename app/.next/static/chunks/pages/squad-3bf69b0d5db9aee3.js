(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{9580:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/squad",function(){return n(9920)}])},9920:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>u});var t=n(7876),o=n(4232),d=n(5331),i=n(7710),a=n(7112),s=n(8545),l=n(289),c=n(7685);function u(){var e,r,n;let u=(0,d.v)(),{connection:m}=(0,i.w)(),g=(0,s.C)(),[p,h]=(0,o.useState)(null),[x,b]=(0,o.useState)(!1),[y,f]=(0,o.useState)(""),[j,S]=(0,o.useState)(""),[w,q]=(0,o.useState)(""),[v,k]=(0,o.useState)(""),[C,E]=(0,o.useState)(""),[R,T]=(0,o.useState)(null),[_,B]=(0,o.useState)("");(0,o.useEffect)(()=>{g&&g.then(h)},[g]);let z=()=>{f(""),S("")},N=async()=>{if(p&&u.publicKey){b(!0),z();try{let e=v.split("\n").map(e=>e.trim()).filter(e=>e.length>0).map(e=>new a.PublicKey(e)),r=await p.squad.initialize({name:w,members:e,feeAndRentPayer:u.publicKey,mainSigningAuthority:u.publicKey}),n=await (0,l.D)(m,r,u);n.success?(S('Squad "'.concat(w,'" created successfully! Transaction: ').concat(n.signature)),q(""),k("")):n.userRejected?c.Ay.error("Transaction rejected"):f("Failed to create squad: ".concat(n.error))}catch(e){f("Error creating squad: ".concat(e instanceof Error?e.message:"Unknown error"))}b(!1)}},A=async()=>{if(p&&u.publicKey){b(!0),z();try{let e=await p.squad.claimToken({groupName:C,claimer:u.publicKey}),r=await (0,l.D)(m,e,u);r.success?(S('Successfully joined squad "'.concat(C,'"! Transaction: ').concat(r.signature)),E("")):r.userRejected?c.Ay.error("Transaction rejected"):f("Failed to join squad: ".concat(r.error))}catch(e){f("Error joining squad: ".concat(e instanceof Error?e.message:"Unknown error"))}b(!1)}},M=async()=>{if(p&&_){b(!0),z();try{let e=await p.squad.getGroupConfig(_);T(e),e||f('Squad "'.concat(_,'" not found'))}catch(e){f("Error searching squad: ".concat(e instanceof Error?e.message:"Unknown error"))}b(!1)}};return u.connected?(0,t.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,t.jsx)("h1",{style:{textAlign:"center",marginBottom:"2rem"},children:"Squad Management"}),y&&(0,t.jsx)("div",{style:{padding:"1rem",backgroundColor:"#f8d7da",border:"1px solid #f5c6cb",borderRadius:"8px",color:"#721c24",marginBottom:"1rem"},children:y}),j&&(0,t.jsx)("div",{style:{padding:"1rem",backgroundColor:"#d1e7dd",border:"1px solid #badbcc",borderRadius:"8px",color:"#0f5132",marginBottom:"1rem"},children:j}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem",marginBottom:"2rem"},children:[(0,t.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,t.jsx)("h2",{children:"Create New Squad"}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Squad Name:"}),(0,t.jsx)("input",{type:"text",value:w,onChange:e=>q(e.target.value),placeholder:"Enter squad name",style:{width:"100%",padding:"0.5rem",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"1rem"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Member Addresses (one per line):"}),(0,t.jsx)("textarea",{value:v,onChange:e=>k(e.target.value),placeholder:"Enter Solana addresses, one per line",rows:5,style:{width:"100%",padding:"0.5rem",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"1rem",fontFamily:"monospace"}})]}),(0,t.jsx)("button",{onClick:N,disabled:x||!w.trim(),style:{width:"100%",padding:"0.75rem",backgroundColor:x?"#6c757d":"#007bff",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:x?"not-allowed":"pointer"},children:x?"Creating...":"Create Squad"})]}),(0,t.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,t.jsx)("h2",{children:"Join Existing Squad"}),(0,t.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"bold"},children:"Squad Name:"}),(0,t.jsx)("input",{type:"text",value:C,onChange:e=>E(e.target.value),placeholder:"Enter squad name to join",style:{width:"100%",padding:"0.5rem",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"1rem"}})]}),(0,t.jsx)("button",{onClick:A,disabled:x||!C.trim(),style:{width:"100%",padding:"0.75rem",backgroundColor:x?"#6c757d":"#28a745",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:x?"not-allowed":"pointer"},children:x?"Joining...":"Join Squad & Claim Token"}),(0,t.jsx)("p",{style:{fontSize:"0.9rem",color:"#6c757d",marginTop:"0.5rem"},children:"Note: You can only join if your wallet address is whitelisted by the squad creator."})]})]}),(0,t.jsxs)("div",{style:{padding:"1.5rem",backgroundColor:"white",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,t.jsx)("h2",{children:"Squad Information"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,t.jsx)("input",{type:"text",value:_,onChange:e=>B(e.target.value),placeholder:"Enter squad name to search",style:{flex:1,padding:"0.5rem",border:"1px solid #ced4da",borderRadius:"4px",fontSize:"1rem"}}),(0,t.jsx)("button",{onClick:M,disabled:x||!_.trim(),style:{padding:"0.5rem 1rem",backgroundColor:x?"#6c757d":"#6f42c1",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",cursor:x?"not-allowed":"pointer"},children:x?"Searching...":"Search"})]}),R&&(0,t.jsxs)("div",{style:{padding:"1rem",backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",borderRadius:"4px"},children:[(0,t.jsxs)("h3",{children:["Squad: ",_]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Creator:"})," ",null==(e=R.mainSigningAuthority)?void 0:e.toString()]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Members:"})," ",(null==(r=R.members)?void 0:r.length)||0]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Token Mint:"})," ",null==(n=R.groupTokenMint)?void 0:n.toString()]}),R.members&&R.members.length>0&&(0,t.jsxs)("details",{children:[(0,t.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:"View Members"}),(0,t.jsx)("ul",{style:{marginTop:"0.5rem",paddingLeft:"1rem"},children:R.members.map((e,r)=>(0,t.jsx)("li",{style:{fontFamily:"monospace",fontSize:"0.9rem"},children:e.toString()},r))})]})]})]})]}):(0,t.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,t.jsx)("h1",{children:"Squad Management"}),(0,t.jsx)("p",{children:"Please connect your wallet to manage squads."})]})}}},e=>{e.O(0,[30,764,627,288,155,371,56,636,593,792],()=>e(e.s=9580)),_N_E=e.O()}]);